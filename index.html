<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>H7 Alliance Boss Spawn Timer</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
    margin:0;
    font-family: Arial, Helvetica, sans-serif;
    background:#0b0f14;
    color:#e6e6e6;
    font-size:15px;
}

header {
    padding:16px 24px;
    border-bottom:1px solid #1f2a38;
    display:flex;
    justify-content:space-between;
    align-items:center;
}

header h1 {
    margin:0;
    font-size:22px;
}

header small {
    color:#9fb3c8;
    font-size:13px;
}

button {
    background:#1f6feb;
    border:none;
    color:white;
    padding:6px 12px;
    border-radius:6px;
    cursor:pointer;
    font-size:13px;
}

.container { padding:20px; }

table {
    width:100%;
    border-collapse:collapse;
    background:#161b22;
    border-radius:10px;
    overflow:hidden;
}

thead {
    background:#21262d;
}

th, td {
    padding:12px;
    border-bottom:1px solid #30363d;
    vertical-align:middle;
    text-align:center;
}

th {
    color:#58a6ff;
    font-size:14px;
}

td.boss {
    text-align:left;
    display:flex;
    align-items:center;
    gap:10px;
}

td.boss img {
    width:34px;
    height:34px;
    object-fit:contain;
    background:#21262d;
    border-radius:6px;
    padding:4px;
}

.countdown {
    display:inline-block;
    min-width:110px;
    padding:6px 10px;
    border-radius:8px;
    font-weight:bold;
    background:#8b1d1d;
}

.warning { background:#f85149; }
.spawned { background:#2ea043; }

.footer {
    text-align:center;
    color:#8b949e;
    font-size:13px;
    margin-top:15px;
}
</style>
</head>

<body>

<header>
<div>
<h1>H7 ALLIANCE BOSS SPAWN TIMER</h1>
<small>All times based on Asia / Manila (UTC+8)</small>
</div>
<button onclick="loginAdmin()">Admin Login</button>
</header>

<div class="container">
<table>
<thead>
<tr>
<th>LV</th>
<th>BOSS</th>
<th>DAY</th>
<th>INDO +7</th>
<th>PH +8</th>
<th>COUNTDOWN</th>
<th>TIME STAMP</th>
<th>ACTION</th>
</tr>
</thead>
<tbody id="bossTable"></tbody>
</table>
<div class="footer">Timers update every second</div>
</div>

<script>
const ADMIN_PASSWORD="H7bossings";
const DISCORD_WEBHOOK="PASTE_YOUR_DISCORD_WEBHOOK_URL_HERE";
let isAdmin=false;
let alerted={};

const days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];

const BOSSES=[
{lv:60,name:"Venatus",hours:10,img:"venatus.png"},
{lv:65,name:"Viorent",hours:10,img:"viorent.png"},
{lv:70,name:"Ego",hours:21,img:"ego.png"},
{lv:75,name:"Livera",hours:24,img:"livera.png"},
{lv:75,name:"Araneo",hours:24,img:"araneo.png"},
{lv:80,name:"Undomiel",hours:24,img:"undomiel.png"},
{lv:85,name:"Lady Dalia",hours:18,img:"ladydalia.png"},
{lv:85,name:"General Aquleus",hours:29,img:"aquleus.png"},
{lv:88,name:"Amentis",hours:29,img:"amentis.png"},
{lv:88,name:"Baron Braudmore",hours:32,img:"baron.png"},
{lv:98,name:"Gareth",hours:32,img:"gareth.png"},
{lv:95,name:"Shuliar",hours:35,img:"shuliar.png"},
{lv:98,name:"Larba",hours:35,img:"larba.png"},
{lv:100,name:"Catena",hours:35,img:"catena.png"},
{lv:98,name:"Titore",hours:37,img:"titore.png"},
{lv:93,name:"Wannitas",hours:48,img:"wannitas.png"},
{lv:93,name:"Metus",hours:48,img:"metus.png"},
{lv:93,name:"Duplican",hours:48,img:"duplican.png"},
{lv:100,name:"Secreta",hours:62,img:"secreta.png"},
{lv:100,name:"Ordo",hours:62,img:"ordo.png"},
{lv:100,name:"Asta",hours:62,img:"asta.png"},
{lv:100,name:"Supore",hours:62,img:"supore.png"}
];

function nowPH(){
    return new Date(new Date().toLocaleString("en-US",{timeZone:"Asia/Manila"}));
}

function format(ms){
    if(ms<=0) return "SPAWNED";
    let s=Math.floor(ms/1000);
    let h=Math.floor(s/3600);
    let m=Math.floor((s%3600)/60);
    let sec=s%60;
    return `${h}h ${m}m ${sec}s`;
}

function loginAdmin(){
    if(prompt("Admin password:")==ADMIN_PASSWORD){
        isAdmin=true;
        render();
    }
}

function discordAlert(msg){
    if(!DISCORD_WEBHOOK) return;
    fetch(DISCORD_WEBHOOK,{
        method:"POST",
        headers:{'Content-Type':'application/json'},
        body:JSON.stringify({content:msg})
    });
}

function render(){
    const tb=document.getElementById("bossTable");
    tb.innerHTML="";
    BOSSES.forEach(b=>{
        let next=localStorage.getItem(b.name);
        if(!next){
            let d=nowPH();
            d.setHours(d.getHours()+b.hours);
            localStorage.setItem(b.name,d);
            next=d;
        } else next=new Date(next);

        let diff=next-nowPH();
        let cls="countdown";
        if(diff<=0) cls+=" spawned";
        else if(diff<=300000) cls+=" warning";

        if(diff<=300000 && !alerted[b.name]){
            discordAlert(`⚠️ ${b.name} spawning in under 5 minutes!`);
            alerted[b.name]=true;
        }

        tb.innerHTML+=`
        <tr>
        <td>${b.lv}</td>
        <td class="boss">
           <img src="images/${b.img}" onerror="this.src='data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%2234%22 height=%2234%22><rect width=%2234%22 height=%2234%22 fill=%22%2321262d%22/><text x=%2217%22 y=%2222%22 text-anchor=%22middle%22 fill=%22white%22 font-size=%2216%22>?</text></svg>'">

            ${b.name}
        </td>
        <td>${days[next.getDay()].slice(0,3)}</td>
        <td>${new Date(next.getTime()-3600000).toLocaleTimeString()}</td>
        <td>${next.toLocaleTimeString()}</td>
        <td><span class="${cls}">${format(diff)}</span></td>
        <td>${next.toLocaleString()}</td>
        <td>${isAdmin?`<button onclick="localStorage.removeItem('${b.name}')">Reset</button>`:""}</td>
        </tr>`;
    });
}

setInterval(render,1000);
render();
</script>
</body>
</html>
